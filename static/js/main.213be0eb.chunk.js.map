{"version":3,"sources":["utils/History.js","contexts/AuthContext.jsx","routes/ProtectedRoute.jsx","components/header/Header.jsx","Constants.js","components/articlesList/ArticlesList.jsx","components/pagination/Pagination.jsx","components/loader/Loader.jsx","utils/ApiHeader.js","pages/home/Home.jsx","pages/article/Article.jsx","pages/login/Login.jsx","pages/register/Register.jsx","pages/userProfile/UserProfile.jsx","pages/userSettings/UserSettings.jsx","pages/newArticle/NewArticle.jsx","pages/editArticle/EditArticle.jsx","App.js","index.js"],"names":["createBrowserHistory","AuthContext","createContext","isLoggedIn","logOut","AuthState","props","useState","localStorage","getItem","token","setToken","setLoggedIn","JSON","parse","user","setUser","username","setUsername","setAuth","newToken","setItem","jwt","useEffect","authContext","logout","removeItem","History","push","Provider","value","children","ProtectedRoute","to","Header","useContext","className","style","display","onClick","EMAIL_VALIDATOR","FETCH_USER_ARTICLES_API","ARTICLES_API","ARTICLE_API","ArticlesList","articles","toggleFavorite","length","map","article","key","slug","author","src","image","alt","moment","createdAt","format","favorited","favoritesCount","title","body","substr","tagList","t","Pagination","activePage","itemsPerPage","totalPageCount","setActivePage","Math","ceil","pages","i","renderBlocks","Loader","role","Home","history","useHistory","fetchURL","setFetchURL","newFetchURL","URL","loading","setLoading","setArticles","totalArticles","setTotalArticles","tags","setTags","page","setPage","activeTab","setActiveTab","tagSelected","setTagSelected","articlesError","setArticlesError","tagsError","setTagsError","a","favArticleURL","window","location","pathname","selectedArticle","filter","selectedArticleIndex","findIndex","fetch","headers","ApiHeader","method","response","json","nArticles","ok","errors","fetchTags","articlesCount","fetchArticles","id","pageClicked","searchParams","set","href","Object","keys","e","tag","has","append","onTagClick","Article","useParams","fetchArticleURL","articleDetails","setArticleDetails","comments","setComments","commentText","setCommentText","deleteArticle","postComment","event","preventDefault","stringify","comment","deleteAComment","commentId","newComments","c","fetchArticleDetail","fetchComments","renderArticleData","onSubmit","rows","onChange","target","React","memo","email","setEmail","password","setPassword","setErrors","apiError","setApiError","handleInputChange","name","test","handleSubmit","htmlFor","type","disabled","formData","setFormData","console","log","isSubmitDisabled","UserProfile","fetchArticlesURL","setFetchArticlesURL","newURL","userProfile","setUserProfile","tab","setTab","handleTabClick","tabId","profile","fetchUserProfile","UserSettings","bio","placeholder","NewArticle","description","publishNewArticle","split","er","f","fetchArticleDetails","App","Consumer","context","exact","path","component","EditArticle","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.213be0eb.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history';\n\nexport default createBrowserHistory();","import React, { createContext, useState, useEffect } from 'react';\n\nimport jwt from 'jwt-decode';\n\nimport History from '../utils/History';\n\nexport const AuthContext = createContext({\n  isLoggedIn: false,\n  logOut: () => {},\n});\n\nexport const AuthState = (props) => {\n  const [token, setToken] = useState(localStorage.getItem('token'));\n  const [isLoggedIn, setLoggedIn] = useState(false);\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('user')));\n  const [username, setUsername] = useState('');\n\n  const logout = () => {\n    setLoggedIn(false);\n    setToken(null);\n    setUsername('');\n    setUser(null);\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    History.push('/home');\n  };\n\n  const setAuth = (newToken) => {\n    if (newToken) {\n      setLoggedIn(true);\n      setToken(newToken);\n      localStorage.setItem('token', newToken);\n      const { username } = jwt(newToken);\n      setUsername(username);\n    }\n  }\n\n  useEffect(() => {\n    if (localStorage.getItem('token')) {\n      setAuth(localStorage.getItem('token'));\n    }\n  }, [token]);\n\n  const authContext = {\n    isLoggedIn: isLoggedIn,\n    logout: logout,\n    setAuth: setAuth,\n    user: user,\n    setUser: setUser,\n    username: username,\n    setUsername: setUsername,\n    token: token,\n  };\n\n  return (<AuthContext.Provider value={authContext}>{props.children}</AuthContext.Provider>);\n}","\nimport React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = (props) => {\n  return props.isLoggedIn\n    ? (<Route {...props} />)\n    : (<Redirect to=\"/login\" />)\n}\n\nexport default ProtectedRoute;","import React, { useContext } from 'react';\n\nimport { Link } from 'react-router-dom';\n\nimport { AuthContext } from '../../contexts/AuthContext';\n\nimport './Header.css';\n\nconst Header = () => {\n  const { isLoggedIn, logout, user } = useContext(AuthContext);\n  return (\n    <nav className=\"navbar\">\n      <div className=\"container\">\n        <Link className=\"navbar-brand\" to=\"/\">Medium Clone</Link>\n\n        <div>\n        {!isLoggedIn ? (<ul className=\"nav navbar-nav pull-right\" style={{ display: 'inherit'}}>\n          <li className=\"nav-item d-inline-block items\">\n            <Link className=\"nav-link\" to=\"/\">Home</Link>\n          </li>\n          <li className=\"nav-item d-inline-block items\">\n            <Link className=\"nav-link\" to=\"/login\">Sign in</Link>\n          </li>\n          <li className=\"nav-item d-inline-block items\">\n            <Link className=\"nav-link\" to=\"/register\">Sign up</Link>\n          </li>\n        </ul>) : (\n          <ul className=\"nav navbar-nav pull-right\" style={{ display: 'inherit'}}>\n          <li className=\"nav-item d-inline-block items\">\n            <Link className=\"nav-link\" to=\"/\">Home</Link>\n          </li>\n          <li className=\"nav-item d-inline-block items\">\n            <Link className=\"nav-link\" to=\"/editor\">\n              <i className=\"material-icons m-icon\">create</i>\n              New Article\n            </Link>\n          </li>\n          <li className=\"nav-item d-inline-block items\">\n            <Link className=\"nav-link\" to=\"/settings\">\n              <i className=\"material-icons m-icon\">settings</i>\n              Settings\n            </Link>\n          </li>\n          {user && user.username && (<li className=\"nav-item d-inline-block items\">\n            <Link className=\"nav-link\" to={`/user/${user.username}`}>\n              <i className=\"material-icons m-icon\">person</i>\n              {user.username}\n            </Link>\n          </li>)}\n          <li className=\"nav-item d-inline-block items\" onClick={logout}>\n            <Link className=\"nav-link\" to=\"/login\">\n              <i className=\"material-icons m-icon\">logout</i>\n              Log Out\n            </Link>\n          </li>\n        </ul>\n        )}\n        </div>\n      </div>\n    </nav>\n  )\n}\n\nexport default Header;","// eslint-disable-next-line\nexport const EMAIL_VALIDATOR = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\nexport const REGISTER_USER_API = \"https://conduit.productionready.io/api/users\";\n\nexport const SINGLE_USER_API = \"https://conduit.productionready.io/api/user\";\n\nexport const LOGIN_API = \"https://conduit.productionready.io/api/users/login\";\n\nexport const POPULAR_TAGS_API = \"https://conduit.productionready.io/api/tags\";\n\nexport const FETCH_USER_ARTICLES_API = \"https://conduit.productionready.io/api/articles/feed?limit=10&offset=0\";\n\nexport const ARTICLES_API = \"https://conduit.productionready.io/api/articles\";\n\nexport const IMG_SRC = \"https://static.productionready.io/images/smiley-cyrus.jpg\";\n\nexport const ARTICLE_API = \"https://conduit.productionready.io/api/articles\";\n\nexport const USER_PROFILE_API = \"https://conduit.productionready.io/api/profiles/\"","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\n\nimport './ArticlesList.css';\n\nconst ArticlesList = ({ articles, toggleFavorite }) => {\n  \n  return (\n    <div className=\"articles-list\">\n      {articles && articles.length ? articles.map(article => (\n        <div key={article.slug} className=\"article text-left\">\n          <div className=\"article-info\">\n            <Link to={`/user/${article.author.username}`}>\n              <img src={article.author.image} className=\"user-avatar\" alt={article.author.username} />\n            </Link>\n            <div className=\"info\">\n              <Link to={`/user/${article.author.username}`} className=\"article-author\">\n                {article.author.username}\n              </Link>\n              <div className=\"posted-date\">{moment(article.createdAt).format('MMMM D, YYYY')}</div>\n            </div>\n            <button\n              className={`btn btn-sm float-right ${!article.favorited ? 'favorite-btn-style' : 'btn-success'}`}\n              onClick={() => toggleFavorite(article.slug)}\n            >\n              <i className=\"material-icons m-icon fav-icon\">favorite</i>\n              {`${article.favorited ? 'Unfavorite' : 'Favorite'} (${article.favoritesCount})`}\n            </button>\n          </div>\n\n          <Link to={`/article/${article.slug}`}>\n            <h2>{article.title}</h2>\n            <p>{article.body.substr(0, 100)}</p>\n            <div>Read more....</div>\n            <div className=\"article-tags text-right\">\n              {article.tagList && article.tagList.map(t => (\n                <div key={t} className=\"article-tag\">{t}</div>\n              ))}\n            </div>\n          </Link>\n\n        </div>\n\n      )) : null}\n      {articles && articles.length === 0 ? <div className=\"no-articles-yet\">No Articles yet</div> : null}\n    </div>\n  )\n}\n\nexport default ArticlesList;","import React from 'react';\n\nimport './Pagination.css';\n\nconst Pagination = ({ activePage, itemsPerPage, totalPageCount, setActivePage }) => {\n\n  const renderBlocks = () => {\n    const pages = []; \n    for(let i=1; i <= Math.ceil(totalPageCount/itemsPerPage); i++) {\n      pages.push(\n        <li key={i} className={`page-item ${activePage === i ? 'active' : ''}`} onClick={() => setActivePage(i)}>\n          <button className=\"btn page-btn page-link\">\n            {i}\n          </button>\n        </li>\n      )}\n    return pages;\n  }\n\n  return (\n    <nav>\n      {Math.ceil(totalPageCount/itemsPerPage) <= 1 ? null : (\n        <ul className=\"pagination pagination-md flex-wrap\">\n        {renderBlocks()}\n      </ul>\n      )}\n      \n    </nav>\n    \n  )\n}\n\nexport default Pagination;","import React from 'react';\n\nimport './Loader.css';\n\nconst Loader = () => {\n  return (\n    <div className=\"spinner-border text-primary loader\" role=\"status\">\n      <span className=\"sr-only\">Loading...</span>\n    </div>\n  )\n}\n\nexport default Loader;","export default () => {\n  return localStorage.getItem('token') ? {\n    'Content-Type': 'application/json;charset=UTF-8',\n    'authorization': `Token ${localStorage.getItem('token')}`,\n  } : {};\n}","import React, { useState, useContext, useEffect } from 'react';\n\nimport { useHistory } from 'react-router-dom';\nimport { POPULAR_TAGS_API, ARTICLES_API, ARTICLE_API, FETCH_USER_ARTICLES_API } from '../../Constants';\n\nimport ArticlesList from '../../components/articlesList/ArticlesList';\nimport Pagination from '../../components/pagination/Pagination';\nimport Loader from '../../components/loader/Loader';\nimport ApiHeader from '../../utils/ApiHeader';\n\n// Context\nimport { AuthContext } from '../../contexts/AuthContext';\n\nimport './Home.css';\n\nconst ITEMS_PER_PAGE = 10;\n\nconst Home = () => {\n\n  const { isLoggedIn, token } = useContext(AuthContext);\n\n  const history = useHistory();\n\n  const [fetchURL, setFetchURL] = useState(isLoggedIn ? FETCH_USER_ARTICLES_API : `${ARTICLES_API}?limit=${ITEMS_PER_PAGE}&offset=0`);\n\n  const newFetchURL = new URL(fetchURL);\n\n  const [loading, setLoading] = useState(false);\n\n  const [articles, setArticles] = useState(null);\n  const [totalArticles, setTotalArticles] = useState(null);\n  const [tags, setTags] = useState(null);\n\n  const [page, setPage] = useState(1);\n\n  const [activeTab, setActiveTab] = useState(isLoggedIn ? 'your-articles' : 'all-articles');\n\n  const [tagSelected, setTagSelected] = useState(null);\n\n  const [articlesError, setArticlesError] = useState(null);\n  const [tagsError, setTagsError] = useState(null);\n\n  const onTagClick = (tag) => {\n    setActiveTab('tag-articles');\n    setTagSelected(tag);\n    setArticles(null);\n    setPage(1);\n\n    if (newFetchURL.searchParams.has('tag')) {\n      newFetchURL.searchParams.set('tag', tag);\n    } else {\n      newFetchURL.searchParams.append('tag', tag);\n    }\n    newFetchURL.searchParams.append('offset', 0);\n    setFetchURL(newFetchURL.href);\n  }\n\n  const yourArticles = () => {\n    setActiveTab('your-articles');\n    setTagSelected(null);\n    setArticles(null);\n    setPage(1);\n    setFetchURL(FETCH_USER_ARTICLES_API);\n  }\n\n  const allArticles = () => {\n    setActiveTab('all-articles');\n    setTagSelected(null);\n    setArticles(null);\n    setPage(1);\n    setFetchURL(`${ARTICLES_API}?limit=${ITEMS_PER_PAGE}&offset=0`);\n  }\n\n  const handlePageClick = (pageClicked) => {\n    newFetchURL.searchParams.set('offset', (pageClicked - 1)*ITEMS_PER_PAGE);\n    setFetchURL(newFetchURL.href);\n    setPage(pageClicked)\n  }\n\n  const toggleFavorite = async (slug) => {\n    const favArticleURL = `${ARTICLE_API}/${slug}/favorite`;\n    if (!isLoggedIn) {\n      history.push('/login?destination='+window.location.pathname);\n    } else {\n      const selectedArticle = articles && articles.length && articles.filter(a => a.slug === slug)[0];\n      const selectedArticleIndex = articles && articles.length && articles.findIndex(a => a.slug === slug);\n      const response = await fetch(`${favArticleURL}`, {\n        headers: ApiHeader(),\n        method: selectedArticle.favorited ? 'DELETE' : 'POST',\n      });\n      const { article } = await response.json();\n      const nArticles = [...articles];\n      nArticles[selectedArticleIndex] = article;\n      setArticles(nArticles);\n    }\n  }\n\n  useEffect(() => {\n    const fetchTags = async () => {\n      const response = await fetch(POPULAR_TAGS_API);\n      if (response.ok) {\n        const { tags } = await response.json();\n        setTags(tags);\n      } else {\n        const { errors } = await response.json();\n        setTagsError(errors);\n      }\n    }\n\n    fetchTags();\n  }, [])\n\n  useEffect(() => {\n\n    const fetchArticles = async () => {\n      setArticles(null);\n      setLoading(true);\n      setArticlesError(null);\n      const response = await fetch(fetchURL, {\n        headers: ApiHeader(),\n      });\n      if (response.ok) {\n        const { articles, articlesCount } = await response.json();\n        setArticles(articles);\n        setTotalArticles(articlesCount);\n      } else {\n        const { errors } = await response.json();\n        setArticlesError(errors);\n      }\n      setLoading(false);\n    }\n\n    fetchArticles();\n\n  }, [fetchURL, token, isLoggedIn, page])\n\n  return (\n    <div className=\"home text-center\">\n      <div className=\"banner\">\n        <div className=\"container\">\n          <h1 className=\"py-3\">Medium Clone</h1>\n          <p>Create and share awesome articles, like them, add them as favorite, comment on them...</p>\n        </div>\n      </div>\n\n        <div className=\"container articles-and-tags\">\n          {/* All articles, tag selected articles, tabs */}\n          <div className=\"row\">\n            <div className=\"col-md-9\">\n              <div className=\"article-tabs\">\n                <ul className=\"nav nav-tabs\">\n                  {isLoggedIn && (<li className=\"nav-item all-articles\" onClick={yourArticles}>\n                    <button\n                      id=\"all\"\n                      className={`nav-link ${isLoggedIn && activeTab === 'your-articles' ? 'active' : ''}`}\n                    >\n                      Your Articles\n                    </button>\n                  </li>)}\n                  <li className=\"nav-item all-articles\" onClick={allArticles}>\n                    <button\n                      id=\"all\"\n                      className={`nav-link ${activeTab === 'all-articles' ? 'active' : ''}`}\n                    >\n                      All Articles\n                    </button>\n                  </li>\n                  {tagSelected && (<li className=\"nav-item\">\n                    <button\n                      className={`nav-link ${activeTab === 'tag-articles' ? 'active' : ''}`}\n                    >\n                      {`#${tagSelected}`}\n                    </button>\n                  </li>)}\n                </ul>\n                <div className=\"articles-list\">\n                {!loading && articles && articles.length ? (\n                  <ArticlesList\n                    articles={articles}\n                    toggleFavorite={toggleFavorite}\n                    totalArticles={totalArticles} \n                  />\n                ): null}\n                {!loading && (\n                  <Pagination\n                  itemsPerPage={ITEMS_PER_PAGE}\n                  totalPageCount={totalArticles}\n                  activePage={page}\n                  setActivePage={handlePageClick}\n                />\n                )}\n                \n                {loading && <Loader />}\n                {articlesError && Object.keys(articlesError).map(e => (\n                    <div className=\"error\" key={e}>{`${e} ${articlesError[e]}`}</div>\n                ))}\n                </div>\n                \n                {articles && articles.length === 0 ? (\n                  <div className=\"no-articles-yet\">No Articles yet.</div>\n                ): null}\n              </div>\n              \n            </div>\n\n            <div className=\"col-md-3\">\n              <div className=\"popular-tags\">\n                <p>Popular Tags</p>\n                <div className=\"tags\">\n                  {tags && tags.map(tag => (\n                    <div\n                      key={tag}\n                      className=\"tag\"\n                      onClick={() => onTagClick(tag)}\n                    >\n                      {tag}\n                    </div>\n                  ))}\n                  {tagsError && Object.keys(tagsError).map(e => (\n                    <div className=\"error\" key={e}>{`${e} ${tagsError[e]}`}</div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n    </div>\n  )\n}\n\nexport default Home;","import React, { useEffect, useState, useContext } from 'react';\nimport { Link, useParams, useHistory } from 'react-router-dom';\nimport moment from 'moment';\n\nimport { ARTICLE_API } from '../../Constants';\n\nimport { AuthContext } from '../../contexts/AuthContext';\n\nimport ApiHeader from '../../utils/ApiHeader';\n\nimport './Article.css';\n\n\nconst Article = () => {\n  const history = useHistory();\n  const { slug } = useParams();\n  const { isLoggedIn, username } = useContext(AuthContext);\n\n  const fetchArticleURL = `${ARTICLE_API}/${slug}`;\n\n  const [articleDetails, setArticleDetails] = useState(null);\n  // const [articleError, setArticleError] = useState(null);\n\n  const [comments, setComments] = useState(null);\n  // const [commentsError, setCommentsError] = useState(null);\n\n  const [commentText, setCommentText] = useState('');\n\n  const toggleFavorite = async () => {\n    if (!isLoggedIn) {\n      history.push('/login?destination='+window.location.pathname);\n    } else {\n      let response = null;\n      if (articleDetails.favorited) {\n        response = await fetch(`${fetchArticleURL}/favorite`, {\n          headers: ApiHeader(),\n          method: 'DELETE',\n        });\n      } else {\n        response = await fetch(`${fetchArticleURL}/favorite`, {\n          headers: ApiHeader(),\n          method: 'POST',\n        });\n      }\n      if (response.ok) {\n        const { article } = await response.json();\n        setArticleDetails({\n          ...articleDetails,\n          ...article,\n        })\n      }\n    }\n  }\n\n  const deleteArticle = async () => {\n    const response = await fetch(fetchArticleURL, {\n      headers: ApiHeader(),\n      method: 'DELETE',\n    })\n\n    if (!response.ok) {\n\n    } else {\n      history.push('/');\n    }\n  }\n\n  const postComment = async (event) => {\n    event.preventDefault();\n    if (commentText) {\n      const response = await fetch(`${fetchArticleURL}/comments`, {\n        method: 'POST',\n        headers: ApiHeader(),\n        body: JSON.stringify({\n          comment: {\n            body: commentText,\n          }\n        })\n      })\n\n      if (response.ok) {\n        const { comment } = await response.json();\n        if (comment) {\n          setComments([comment, ...comments]);\n        } \n      }\n      setCommentText('');\n    }\n  }\n\n  const deleteAComment = async (commentId) => {\n    const response = await fetch(`${fetchArticleURL}/comments/${commentId}`, {\n      method: 'DELETE',\n      headers: ApiHeader(),\n    });\n    if (response.ok) {\n      const newComments = comments.filter(c => c.id !== commentId);\n      setComments([...newComments]);\n    }\n  }\n\n  useEffect(() => {\n\n    const fetchArticleDetail = async () => {\n      const response = await fetch(fetchArticleURL, {\n        method: 'GET',\n        headers: ApiHeader(),\n      });\n      if (!response.ok) {\n        // const { errors } = await response.json();\n        // setArticleError(errors);\n      } else {\n        const { article } = await response.json();\n        setArticleDetails(article);\n      }\n    }\n\n    const fetchComments = async () => {\n      const response = await fetch(`${fetchArticleURL}/comments`, {\n        method: 'GET',\n        headers: ApiHeader(),\n      });\n      if (!response.ok) {\n        // const { errors } = await response.json();\n        // setCommentsError(errors);\n      } else {\n        const { comments } = await response.json();\n        setComments(comments);\n      }\n    }\n\n    fetchArticleDetail();\n    fetchComments();\n    \n  }, [fetchArticleURL])\n\n  const renderArticleData = () => {\n    return (\n      <div className=\"article-info\">\n        <Link to={`/user/${articleDetails.author.username}`}>\n          <img src={articleDetails.author.image} className=\"user-avatar\" alt={articleDetails.author.username} />\n        </Link>\n        <div className=\"info\">\n          <Link to={`/user/${articleDetails.author.username}`} className=\"article-author\">\n            {articleDetails.author.username}\n          </Link>\n          <div className=\"posted-date\">{moment(articleDetails.createdAt).format('MMMM D, YYYY')}</div>\n        </div>\n        {username !== articleDetails.author.username && (\n          <button\n            className={`btn btn-sm ${!articleDetails.favorited ? 'favorite-btn-style' : 'btn-success'}`}\n            onClick={toggleFavorite}\n          >\n            {!articleDetails.favorited ? `Favorite Article (${articleDetails.favoritesCount})` : `Unfavorite Article (${articleDetails.favoritesCount})`}\n          </button>\n        )}\n        {isLoggedIn && username === articleDetails.author.username && (\n          <span className=\"can-edit-delete\">\n            <Link to={`/editor/${slug}`}>\n              <button className=\"btn btn-sm edit-btn\">\n                <i className=\"material-icons m-icon\">edit</i>\n                Edit Article\n              </button>            \n            </Link>\n            <button className=\"btn btn-sm delete-btn\" onClick={() => deleteArticle()}>\n              <i className=\"material-icons m-icon\">delete</i>\n              Delete Article\n            </button>\n          </span>\n        )}\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"article-page\">\n      <div className=\"article-banner\">\n        {articleDetails && (\n          <div className=\"container\">\n            <h1>{articleDetails.title}</h1>\n            {renderArticleData()}\n          </div>\n        )}\n      </div>\n\n      {articleDetails && (\n        <div className=\"container article-detail\">\n          <div className=\"article-content\">\n            <p>{articleDetails.body}</p>\n            <div className=\"article-content-tags\">\n              {articleDetails.tagList && articleDetails.tagList.map(t => (\n                <div key={t} className=\"article-content-tag\">{t}</div>\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n\n      <hr className=\"hr-line\" />\n      \n      {articleDetails && (<div className=\"article-actions\">\n        {renderArticleData()}\n      </div>)}\n\n      <div className=\"container\">\n        <div className=\"row comment-section\">\n          <div className=\"col-xs-12 col-md-8 offset-md-2\">\n            {!isLoggedIn ? (\n              <div className=\"not-logged-in\">\n                <p>\n                  <Link to=\"/login\">\n                    Sign In\n                  </Link> or <Link to=\"/register\">Sign up</Link> to add comments on this article.\n                </p>\n              </div>\n            ) : (\n              <div className=\"comment-form\">\n                <form onSubmit={postComment}>\n                  <div className=\"content\">\n                    <textarea rows=\"3\" value={commentText} onChange={(event) => setCommentText(event.target.value)} />\n                  </div>\n                  <div className=\"footer\">\n                    <button className=\"btn btn-sm btn-primary float-right\">Post Comment</button>\n                  </div>\n\n                </form>\n              </div>\n            )}\n            {comments && comments.map(c => (\n              <div key={c.id} className=\"comment\">\n                <div className=\"comment-content\">\n                  <p>{c.body}</p>\n                </div>\n                <div className=\"comment-footer\">\n                  <div className=\"comment-meta\">\n                    \n                    <Link to={`/user/${c.author.username}`}>\n                      <img src={c.author.image} alt={c.author.username} />\n                      {c.author.username}\n                    </Link>\n                    <span>{moment(c.author.createdAt).format('MMMM D, YYYY')}</span>\n                    <i className=\"glyphicon glyphicon-remove\"></i>\n                    {isLoggedIn && username === c.author.username && (\n                      <span className=\"float-right\">\n                          <i className=\"material-icons delete-icon\" onClick={() => deleteAComment(c.id)}>delete</i>\n                      </span>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n      \n\n    </div>\n  )\n}\n\nexport default Article;","import React, { useState, useContext } from 'react';\n\nimport { Link, Redirect } from 'react-router-dom';\n\nimport { AuthContext } from '../../contexts/AuthContext';\n\n// Constants\nimport { EMAIL_VALIDATOR, LOGIN_API } from '../../Constants';\n\nimport './Login.css';\n\nconst Login = () => {\n\n  const authContext = useContext(AuthContext);\n  const { isLoggedIn, setAuth, setUser } = authContext;\n  \n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const [errors, setErrors] = useState({\n    email: '',\n    password: '',\n  })\n\n  const [apiError, setApiError] = useState(null);\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    if (name === 'email') {\n      if (!value) {\n        setErrors({\n          ...errors,\n          [name]: 'Please enter your email',\n        })\n      } else {\n        if (value) {\n          if (!EMAIL_VALIDATOR.test(value)) {\n            setErrors({\n              ...errors,\n              [name]: 'Please enter a valid email address',\n            })\n          } else {\n            setErrors({\n              ...errors,\n              [name]: '',\n            })\n          }\n        }\n      }\n      setEmail(value);\n    }\n\n    if (name === 'password') {\n      if (!value) {\n        setErrors({\n          ...errors,\n          [name]: 'Please enter the password',\n        })\n      } else {\n        setErrors({\n          ...errors,\n          [name]: '',\n        })\n      }\n      setPassword(value);\n    }\n  }\n\n  const isSubmitDisabled = () => {\n    if (!email || !password || !EMAIL_VALIDATOR.test(email)) {\n      return true;\n    }\n    return false;\n  }\n\n  const handleSubmit = async (event) => {\n    setApiError(null);\n    event.preventDefault();\n    const response = await fetch(LOGIN_API, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json;charset=UTF-8'\n      },\n      body: JSON.stringify({\n        user: {\n          email,\n          password,\n        }\n      })\n    })\n\n    if (!response.ok) {\n      const { errors } = await response.json();\n      setApiError(errors);\n    } else {\n      const { user } = await response.json();\n      setAuth(user.token);\n      setUser(user);\n      localStorage.setItem('user', JSON.stringify(user));\n    }\n  }\n\n  if (isLoggedIn) {\n    return (<Redirect to=\"/\" />)\n  }\n  \n  return (\n    <div className=\"container fluid login-form\">\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-md-3 col-xs-12\">\n        <h1 className=\"text-center\">Sign in</h1>\n        <div className=\"text-center\"><Link to=\"/register\">Need Account?</Link></div>\n        <form onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"email\">Email address</label>\n            <input\n              type=\"email\"\n              className=\"form-control\"\n              id=\"email\"\n              name=\"email\"\n              value={email}\n              onChange={handleInputChange}\n            />\n            {errors.email && <div className=\"error\">{errors.email}</div>}\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Password</label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              className=\"form-control\"\n              value={password}\n              onChange={handleInputChange}\n            />\n            {errors.password && <div className=\"error\">{errors.password}</div>}\n          </div>\n          <button\n            type=\"submit\"\n            className=\"btn btn-primary\"\n            disabled={isSubmitDisabled()}\n          >\n            Sign In\n          </button>\n          {apiError && Object.keys(apiError).map(e => (\n            <div className=\"error\" key={e}>{`${e} ${apiError[e]}`}</div>\n          ))}\n        </form>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default React.memo(Login);","import React, { useState, useContext } from 'react';\n\nimport { Link, Redirect } from 'react-router-dom';\n\n// Context\nimport { AuthContext } from '../../contexts/AuthContext';\n\n// Constants\nimport { EMAIL_VALIDATOR, REGISTER_USER_API } from '../../Constants';\n\nimport './Register.css';\n\n\nconst Register = () => {\n\n  const authContext = useContext(AuthContext);\n  const { setAuth, setUser, isLoggedIn } = authContext;\n\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',\n    password: '',\n  })\n\n  const [errors, setErrors] = useState({\n    username: '',\n    email: '',\n    password: '',\n  })\n\n  const [apiError, setApiError] = useState(null);\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    if (name === 'email') {\n      if (!value) {\n        setErrors({\n          ...errors,\n          [name]: 'Please enter your email',\n        })\n      } else {\n        if (value) {\n          if (!EMAIL_VALIDATOR.test(value)) {\n            setErrors({\n              ...errors,\n              [name]: 'Please enter a valid email address',\n            })\n          } else {\n            setErrors({\n              ...errors,\n              [name]: '',\n            })\n          }\n        }\n      }\n    }\n\n    if (name === 'username') {\n      if (!value) {\n        setErrors({\n          ...errors,\n          [name]: 'Please enter your username',\n        })\n      } else {\n        setErrors({\n          ...errors,\n          [name]: '',\n        })\n      }\n    }\n\n    if (name === 'password') {\n      if (!value) {\n        setErrors({\n          ...errors,\n          [name]: 'Please enter the password',\n        })\n      } else {\n        setErrors({\n          ...errors,\n          [name]: '',\n        })\n      }\n    }\n\n    setFormData({\n      ...formData,\n      [name]: value,\n    })\n  }\n  \n  const handleSubmit = async (event) => {\n    setApiError(null);\n    event.preventDefault();\n    const response = await fetch(REGISTER_USER_API, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json;charset=UTF-8'\n      },\n      body: JSON.stringify({\n        user: {\n          ...formData,\n        }\n      })\n    })\n\n    if (!response.ok) {\n      const { errors } = await response.json();\n      console.log(errors);\n      setApiError(errors);\n    } else {\n      const { user } = await response.json();\n      setAuth(user.token);\n      setUser(user);\n      localStorage.setItem('user', JSON.stringify(user));\n    }\n  }\n\n  const isSubmitDisabled = () => {\n    const { username, email, password } = formData;\n    if (!username || !email || !password) {\n      return true;\n    }\n  }\n\n  if (isLoggedIn) {\n    return (<Redirect to=\"/\" />)\n  }\n\n  return (\n    <div className=\"container fluid register-form\">\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-md-3 col-xs-12\">\n        <h1 className=\"text-center\">Register</h1>\n        <div className=\"text-center\"><Link to=\"/login\">Already have an account?</Link></div>\n        <form onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"username\">User Name</label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              name=\"username\"\n              value={formData.username}\n              onChange={handleInputChange}\n            />\n            {errors.username && <div className=\"error\">{errors.username}</div>}\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"email\">Email address</label>\n            <input\n              type=\"email\"\n              className=\"form-control\"\n              name=\"email\"\n              value={formData.email}\n              onChange={handleInputChange}\n            />\n            {errors.email && <div className=\"error\">{errors.email}</div>}\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Password</label>\n            <input\n              type=\"password\"\n              className=\"form-control\"\n              name=\"password\"\n              value={formData.password}\n              onChange={handleInputChange}\n            />\n            {errors.password && <div className=\"error\">{errors.password}</div>}\n          </div>\n          <button\n            type=\"submit\"\n            className=\"btn btn-primary\"\n            disabled={isSubmitDisabled()}\n          >\n            Register\n          </button>\n          {apiError && Object.keys(apiError).map(e => (\n            <div className=\"error\" key={e}>{`${e} ${apiError[e]}`}</div>\n          ))}\n        </form>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default React.memo(Register);","import React, { useEffect, useState, useContext } from 'react';\n\nimport { useParams, useHistory } from 'react-router-dom';\n\nimport { USER_PROFILE_API, ARTICLES_API, ARTICLE_API } from '../../Constants';\nimport { AuthContext } from '../../contexts/AuthContext';\n\nimport ArticlesList from '../../components/articlesList/ArticlesList';\nimport Pagination from '../../components/pagination/Pagination';\nimport Loader from '../../components/loader/Loader';\n\nimport ApiHeader from '../../utils/ApiHeader';\n\nimport './UserProfile.css';\n\nconst ITEMS_PER_PAGE = 5;\n\nconst UserProfile = () => {\n\n  const { username } = useParams();\n\n  const history = useHistory();\n\n  const { isLoggedIn, token } = useContext(AuthContext);\n\n  const [fetchArticlesURL, setFetchArticlesURL] = useState(`${ARTICLES_API}?author=${username}&limit=${ITEMS_PER_PAGE}&offset=0`);\n  const newURL = new URL(fetchArticlesURL);\n\n  const [userProfile, setUserProfile] = useState(null);\n\n  const [loading, setLoading] = useState(false);\n  const [articles, setArticles] = useState(null);\n  const [totalArticles, setTotalArticles] = useState(null);\n\n  const [tab, setTab] = useState('my-articles');\n  const [page, setPage] = useState(1);\n\n  const handleTabClick = (tabId) => {\n    setTab(tabId);\n    setPage(1);\n  }\n\n  const handlePageClick = (pageClicked) => {\n    newURL.searchParams.set('offset', (pageClicked - 1)*ITEMS_PER_PAGE);\n    setFetchArticlesURL(newURL.href);\n    setPage(pageClicked)\n  }\n\n  const toggleFavorite = async (slug) => {\n    const favArticleURL = `${ARTICLE_API}/${slug}/favorite`;\n    if (!isLoggedIn) {\n      history.push('/login?destination='+window.location.pathname);\n    } else {\n      const selectedArticle = articles && articles.length && articles.filter(a => a.slug === slug)[0];\n      const selectedArticleIndex = articles && articles.length && articles.findIndex(a => a.slug === slug);\n      const response = await fetch(`${favArticleURL}`, {\n        headers: ApiHeader(),\n        method: selectedArticle.favorited ? 'DELETE' : 'POST',\n      });\n      const { article } = await response.json();\n      const nArticles = [...articles];\n      nArticles[selectedArticleIndex] = article;\n      setArticles(nArticles);\n    }\n  }\n\n  useEffect(() => {\n    if (tab === 'my-articles') {\n      setFetchArticlesURL(`${ARTICLES_API}?author=${username}&limit=${ITEMS_PER_PAGE}&offset=0`);\n    }\n    if (tab === 'fav-articles') {\n      setFetchArticlesURL(`${ARTICLES_API}?favorited=${username}&limit=${ITEMS_PER_PAGE}&offset=0`);\n    }\n  }, [username, tab])\n\n  useEffect(() => {\n    const fetchUserProfile = async () => {\n      setArticles(null);\n      const response = await fetch(`${USER_PROFILE_API}/${username}`);\n      if (response.ok) {\n        const { profile } = await response.json();\n        setUserProfile(profile);\n      }\n    }\n\n    fetchUserProfile();\n  }, [username])\n\n  useEffect(() => {\n    const fetchArticles = async () => {\n      setArticles(null);\n      setLoading(true);\n      const response = await fetch(fetchArticlesURL, {\n        method: 'GET',\n        headers: ApiHeader(),\n      });\n      if (response.ok) {\n        const { articles, articlesCount } = await response.json();\n        setArticles(articles);\n        setTotalArticles(articlesCount);\n      }\n      setLoading(false);\n    }\n\n    fetchArticles();\n  }, [fetchArticlesURL, isLoggedIn, token])\n  \n\n  return (\n    <div className=\"user-profile\">\n      {userProfile && (\n      <div className=\"user-info\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12 col-md-10 offset-md-1\">\n              <img src={userProfile.image} alt={userProfile.image} />\n              <h3 className=\"text-center mt-3\">{username}</h3>\n            </div>\n          </div>\n        </div>\n      </div>\n      )}\n\n      <div className=\"user-articles\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12 col-md-10 offset-md-1\">\n              <div className=\"article-tabs\">\n                <ul className=\"nav nav-tabs\">\n                  <li className=\"nav-item all-articles\" onClick={() => handleTabClick(\"my-articles\")}>\n                    <button\n                      id=\"all\"\n                      className={`nav-link ${tab === 'my-articles' ? 'active' : ''}`}\n                    >\n                      My Articles\n                    </button>\n                  </li>\n                  <li className=\"nav-item fav-articles\" onClick={() => handleTabClick(\"fav-articles\")}>\n                    <button\n                      id=\"all\"\n                      className={`nav-link ${tab === 'fav-articles' ? 'active' : ''}`}\n                    >\n                      Favorite Articles\n                    </button>\n                  </li>\n                </ul>\n\n                <div className=\"articles-list text-center\">\n                  {loading && <Loader />}\n                  <ArticlesList articles={articles} toggleFavorite={toggleFavorite} totalArticles={totalArticles} />\n                  {!loading && <Pagination\n                  itemsPerPage={ITEMS_PER_PAGE}\n                  totalPageCount={totalArticles}\n                  activePage={page}\n                  setActivePage={handlePageClick}\n                  />}\n                </div>\n              </div>\n\n\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default UserProfile;","import React, { useState, useContext } from 'react';\n\nimport { useHistory } from 'react-router-dom';\nimport { SINGLE_USER_API } from '../../Constants';\n\nimport { AuthContext } from '../../contexts/AuthContext';\nimport ApiHeader from '../../utils/ApiHeader';\n\nimport './UserSettings.css';\n\nconst UserSettings = () => {\n\n  const history = useHistory();\n\n  const { user, setAuth, setUser } = useContext(AuthContext);\n\n  const [formData, setFormData] = useState({\n    image: user.image,\n    username: user.username,\n    bio: user.bio,\n    email: user.email,\n    password: '',\n  });\n\n  const [apiError, setApiError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n\n    setFormData({\n      ...formData,\n      [name]: value,\n    })\n  }\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setLoading(true);\n    const response = await fetch(SINGLE_USER_API, {\n      method: 'PUT',\n      headers: ApiHeader(),\n      body: JSON.stringify({...formData}),\n    })\n\n    if (!response.ok) {\n      const { errors } = await response.json();\n      setApiError(errors);\n    } else {\n      const { user } = await response.json();\n      setAuth(user.token);\n      setUser(user);\n      localStorage.setItem('user', JSON.stringify(user));\n      history.push('/');\n    }\n    setLoading(false);\n  }\n\n\n  return (\n    <div className=\"container fluid user-settings\">\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-md-3 col-xs-12\">\n        <h1 className=\"text-center\">User Settings</h1>\n        <form onSubmit={handleSubmit}>\n          <fieldset disabled={loading}>\n            <div className=\"form-group\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                name=\"profilePic\"\n                placeholder=\"URL of profile picture\"\n                value={formData.image}\n                onChange={handleInputChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                name=\"username\"\n                placeholder=\"Username\"\n                value={formData.username}\n                onChange={handleInputChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <textarea\n                className=\"form-control\"\n                name=\"username\"\n                placeholder=\"Short bio about you\"\n                rows=\"10\"\n                value={formData.bio}\n                onChange={handleInputChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"email\"\n                className=\"form-control\"\n                name=\"email\"\n                placeholder=\"Email\"\n                value={formData.email}\n                onChange={handleInputChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"password\"\n                className=\"form-control\"\n                name=\"password\"\n                placeholder=\"New Password\"\n                value={formData.password}\n                onChange={handleInputChange}\n              />\n            </div>\n            <button\n              type=\"submit\"\n              className=\"btn btn-primary float-right\"\n            >\n              {loading ? 'updating...' : 'Update Settings'}\n            </button>\n          </fieldset>\n          \n          {apiError && Object.keys(apiError).map(e => (\n            <div className=\"error\" key={e}>{`${e} ${apiError[e]}`}</div>\n          ))}\n        </form>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default UserSettings;","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { ARTICLE_API } from '../../Constants';\n\nimport ApiHeader from '../../utils/ApiHeader';\n\nimport './NewArticle.css';\n\nconst NewArticle = () => {\n\n  const history = useHistory();\n\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    body: '',\n    tagList: '',\n  });\n\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState(null);\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n\n    setFormData({\n      ...formData,\n      [name]: value,\n    })\n  }\n\n  const publishNewArticle = async (event) => {\n    event.preventDefault();\n    setErrors(null);\n    setLoading(true);\n    const response = await fetch(ARTICLE_API, {\n      method: 'POST',\n      headers: ApiHeader(),\n      body: JSON.stringify({\n        ...formData,\n        tagList: formData.tagList.split(\",\"),\n      })\n    })\n\n    if (!response.ok) {\n      const { errors } = await response.json();\n      setErrors(errors);\n    } else {\n      const { article } = await response.json();\n      if (article.slug) {\n        history.push(`/article/${article.slug}`);\n      }\n    }\n    setLoading(false);\n  }\n\n  return (\n    <div className=\"container new-article\">\n      <div className=\"row\">\n        <div className=\"col-md-10 offset-md-1 col-xs-12\">\n          <ul>\n            {errors && Object.keys(errors).map(e => (\n              <li className=\"error\" key={e}>\n                {errors[e].map(er => (<div key={er} className=\"error\">{`${e} ${er}`}</div>))}\n              </li>\n            ))}\n            </ul>\n          <form onSubmit={publishNewArticle}>\n            <fieldset disabled={loading}>\n              <div className=\"form-group\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"title\"\n                  placeholder=\"Article Title\"\n                  value={formData.title}\n                  onChange={handleInputChange}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"description\"\n                  placeholder=\"What's this article about?\"\n                  value={formData.description}\n                  onChange={handleInputChange}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <textarea\n                  className=\"form-control\"\n                  name=\"body\"\n                  placeholder=\"Write your article (in markdown)\"\n                  rows=\"10\"\n                  value={formData.body}\n                  onChange={handleInputChange}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"tagList\"\n                  placeholder=\"Enter tags\"\n                  value={formData.tagList}\n                  onChange={handleInputChange}\n                />\n              </div>\n            </fieldset>\n            \n\n            <button\n              type=\"submit\"\n              className=\"btn btn-lg btn-primary float-right\"\n              disabled={loading}\n            >\n              Publish Article\n            </button>\n            \n            \n          </form>\n        </div>\n      </div>\n\n    </div>\n  )\n}\n\nexport default NewArticle;","import React, { useState, useEffect } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\n\nimport { ARTICLE_API } from '../../Constants';\nimport ApiHeader from '../../utils/ApiHeader';\n\nconst NewArticle = () => {\n\n  const history = useHistory();\n  const { slug } = useParams();\n\n  const fetchArticleURL = `${ARTICLE_API}/${slug}`;\n\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    body: '',\n    tagList: '',\n  });\n\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState(null);\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n\n    setFormData({\n      ...formData,\n      [name]: value,\n    })\n  }\n\n  const publishNewArticle = async (event) => {\n    event.preventDefault();\n    setErrors(null);\n    setLoading(true);\n    const response = await fetch(fetchArticleURL, {\n      method: 'PUT',\n      headers: ApiHeader(),\n      body: JSON.stringify({\n        ...formData,\n      })\n    })\n\n    if (!response.ok) {\n      const { errors } = await response.json();\n      setErrors(errors);\n    } else {\n      const { article } = await response.json();\n      if (article.slug) {\n        history.push(`/article/${article.slug}`);\n      }\n    }\n    setLoading(false);\n  }\n\n  useEffect(() => {\n    const fetchArticleDetails = async () => {\n      const response = await fetch(fetchArticleURL, {\n        method: 'GET',\n        headers: ApiHeader(),\n      });\n      if (!response.ok) {\n        // const { errors } = await response.json();\n        // setArticleError(errors);\n      } else {\n        const { article } = await response.json();\n        setFormData(f => ({\n          ...f,\n          title: article.title,\n          body: article.body,\n          description: article.description,\n          tagList: article.tagList,\n        }))\n      }\n    }\n\n    fetchArticleDetails();\n  }, [fetchArticleURL])\n\n  return (\n    <div className=\"container new-article\">\n      <div className=\"row\">\n        <div className=\"col-md-10 offset-md-1 col-xs-12\">\n          <ul>\n            {errors && Object.keys(errors).map(e => (\n              <li className=\"error\" key={e}>\n                {errors[e].map(er => (<div className=\"error\">{`${e} ${er}`}</div>))}\n              </li>\n            ))}\n            </ul>\n          <form onSubmit={publishNewArticle}>\n            <fieldset disabled={loading}>\n              <div className=\"form-group\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"title\"\n                  placeholder=\"Article Title\"\n                  value={formData.title}\n                  onChange={handleInputChange}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"description\"\n                  placeholder=\"What's this article about?\"\n                  value={formData.description}\n                  onChange={handleInputChange}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <textarea\n                  className=\"form-control\"\n                  name=\"body\"\n                  placeholder=\"Write your article (in markdown)\"\n                  rows=\"10\"\n                  value={formData.body}\n                  onChange={handleInputChange}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"tagList\"\n                  placeholder=\"Enter tags\"\n                  value={formData.tagList}\n                  onChange={handleInputChange}\n                />\n              </div>\n            </fieldset>\n            \n\n            <button\n              type=\"submit\"\n              className=\"btn btn-lg btn-primary float-right\"\n              disabled={loading}\n            >\n              Publish Article\n            </button>\n            \n            \n          </form>\n        </div>\n      </div>\n\n    </div>\n  )\n}\n\nexport default NewArticle;","import React from 'react';\n\nimport { Switch, Route } from 'react-router-dom';\n\nimport { AuthState, AuthContext } from './contexts/AuthContext';\n\nimport ProtectedRoute from './routes/ProtectedRoute';\n\nimport Header from './components/header/Header';\nimport Home from './pages/home/Home';\nimport Article from './pages/article/Article';\nimport Login from './pages/login/Login';\nimport Register from './pages/register/Register';\nimport UserProfile from './pages/userProfile/UserProfile';\nimport UserSettings from './pages/userSettings/UserSettings';\nimport NewArticle from './pages/newArticle/NewArticle';\nimport EditArticle from './pages/editArticle/EditArticle';\n\nimport './App.css';\n\nfunction App() {\n  return (\n    <AuthState>\n      <AuthContext.Consumer>\n        {context => (\n          <div className=\"App\">\n            <Header />\n            <Switch>\n              <Route exact path=\"/\">\n                <Home />\n              </Route>\n              <Route exact path=\"/home\">\n                <Home />\n              </Route>\n              <Route exact path=\"/article/:slug\">\n                <Article />\n              </Route>\n              <Route exact path=\"/login\">\n                <Login />\n              </Route>\n              <Route exact path=\"/register\">\n                <Register />\n              </Route>\n              <Route exact path=\"/user/:username\">\n                <UserProfile />\n              </Route>\n              <Route exact path=\"/settings\">\n                <UserSettings />\n              </Route>\n              <ProtectedRoute path=\"/editor/:slug\" isLoggedIn={context.isLoggedIn} component={EditArticle} />\n              <ProtectedRoute path=\"/editor\" isLoggedIn={context.isLoggedIn} component={NewArticle} />\n            </Switch>\n          </div>\n        )}\n    </AuthContext.Consumer>\n    </AuthState>\n    \n    \n  );\n}\n\nexport default App;\n","import React from 'react';\n\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport { createBrowserHistory } from 'history';\n\nimport 'bootstrap/dist/css/bootstrap.css';\n\nimport App from './App';\n\nconst history = createBrowserHistory();\n\nReactDOM.render(\n  <Router history={history}>\n    <App />\n  </Router>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}