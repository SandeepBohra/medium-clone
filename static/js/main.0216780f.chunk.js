(this["webpackJsonpmedium-clone"]=this["webpackJsonpmedium-clone"]||[]).push([[0],{26:function(e,t,a){e.exports=a(50)},39:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),s=a.n(c),l=a(5),o=a(9),i=(a(31),a(2)),m=a(23),u=a.n(m),d=Object(o.a)(),f=Object(n.createContext)({isLoggedIn:!1,logOut:function(){}}),b=function(e){var t=Object(n.useState)(localStorage.getItem("token")),a=Object(i.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(!1),o=Object(i.a)(l,2),m=o[0],b=o[1],p=Object(n.useState)(JSON.parse(localStorage.getItem("user"))),v=Object(i.a)(p,2),E=v[0],h=v[1],g=Object(n.useState)(""),j=Object(i.a)(g,2),N=j[0],O=j[1],k=function(e){if(e){b(!0),s(e),localStorage.setItem("token",e);var t=u()(e).username;O(t)}};Object(n.useEffect)((function(){localStorage.getItem("token")&&k(localStorage.getItem("token"))}),[c]);var x={isLoggedIn:m,logout:function(){b(!1),localStorage.removeItem("token"),d.push("/")},setAuth:k,user:E,setUser:h,username:N,setUsername:O,token:c};return r.a.createElement(f.Provider,{value:x},e.children)},p=function(e){return e.isLoggedIn?r.a.createElement(l.b,e):r.a.createElement(l.a,{to:"/login"})},v=a(4),E=(a(39),function(){var e=Object(n.useContext)(f),t=e.isLoggedIn,a=e.logout,c=e.user;return r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"container"},r.a.createElement(v.a,{className:"navbar-brand",to:"/"},"Medium Clone"),r.a.createElement("div",null,t?r.a.createElement("ul",{className:"nav navbar-nav pull-right",style:{display:"inherit"}},r.a.createElement("li",{className:"nav-item d-inline-block items"},r.a.createElement(v.a,{className:"nav-link",to:"/"},"Home")),r.a.createElement("li",{className:"nav-item d-inline-block items"},r.a.createElement(v.a,{className:"nav-link",to:"/settings"},"Settings")),r.a.createElement("li",{className:"nav-item d-inline-block items"},r.a.createElement(v.a,{className:"nav-link",to:"/new-article"},"New Article")),c&&c.username&&r.a.createElement("li",{className:"nav-item d-inline-block items"},r.a.createElement(v.a,{className:"nav-link",to:"/user/".concat(c.username)},c.username)),r.a.createElement("li",{className:"nav-item d-inline-block items",onClick:a},r.a.createElement(v.a,{className:"nav-link",to:"/home"},"Log Out"))):r.a.createElement("ul",{className:"nav navbar-nav pull-right",style:{display:"inherit"}},r.a.createElement("li",{className:"nav-item d-inline-block items"},r.a.createElement(v.a,{className:"nav-link",to:"/"},"Home")),r.a.createElement("li",{className:"nav-item d-inline-block items"},r.a.createElement(v.a,{className:"nav-link",to:"/login"},"Sign in")),r.a.createElement("li",{className:"nav-item d-inline-block items"},r.a.createElement(v.a,{className:"nav-link",to:"/register"},"Sign up"))))))}),h=a(3),g=a.n(h),j=a(6),N=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,O="https://conduit.productionready.io/api/articles?limit=10&offset=0",k="https://conduit.productionready.io/api/articles",x=a(12),y=a.n(x),w=function(e){var t=e.articles,a=e.toggleFavorite;return r.a.createElement("div",{className:"articles-list"},t&&t.map((function(e){return r.a.createElement("div",{key:e.slug,className:"article text-left"},r.a.createElement("div",{className:"article-info"},r.a.createElement(v.a,{to:"/user/".concat(e.author.username)},r.a.createElement("img",{src:e.author.image,className:"user-avatar",alt:e.author.username})),r.a.createElement("div",{className:"info"},r.a.createElement(v.a,{to:"/user/".concat(e.author.username),className:"article-author"},e.author.username),r.a.createElement("div",{className:"posted-date"},y()(e.createdAt).format("MMMM D, YYYY"))),r.a.createElement("button",{className:"float-right",onClick:a},"Favorite")),r.a.createElement(v.a,{to:"/article/".concat(e.slug)},r.a.createElement("h2",null,e.title),r.a.createElement("p",null,e.body),r.a.createElement("div",null,"Read more....")))})))},S=(a(42),function(){var e=Object(n.useContext)(f).isLoggedIn,t=Object(l.g)(),a=Object(n.useState)(O),c=Object(i.a)(a,2),s=c[0],o=c[1],m=new URL(s),u=Object(n.useState)(null),d=Object(i.a)(u,2),b=d[0],p=d[1],v=Object(n.useState)(null),E=Object(i.a)(v,2),h=E[0],N=E[1],k=Object(n.useState)(""),x=Object(i.a)(k,2),y=x[0],S=x[1],C=Object(n.useState)(null),T=Object(i.a)(C,2),P=T[0],A=T[1],I=function(){S("all"),A(null),p(null),m.searchParams.has("tag")&&m.searchParams.delete("tag"),o(m.href)};return Object(n.useEffect)((function(){var e=function(){var e=Object(j.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(O);case 2:if((t=e.sent).ok){e.next=6;break}e.next=11;break;case 6:return e.next=8,t.json();case 8:a=e.sent,n=a.articles,p(n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(j.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://conduit.productionready.io/api/tags");case 2:if((t=e.sent).ok){e.next=6;break}e.next=11;break;case 6:return e.next=8,t.json();case 8:a=e.sent,n=a.tags,N(n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[]),Object(n.useEffect)((function(){(function(){var e=Object(j.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(s);case 2:if((t=e.sent).ok){e.next=6;break}e.next=11;break;case 6:return e.next=8,t.json();case 8:a=e.sent,n=a.articles,p(n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s]),r.a.createElement("div",{className:"home text-center"},r.a.createElement("div",{className:"banner"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"py-3"},"Medium Clone"),r.a.createElement("p",null,"Create and share awesome articles, like them, add them as favorite, comment on them..."))),r.a.createElement("div",{className:"container articles-and-tags"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-9"},r.a.createElement("div",{className:"article-tabs"},r.a.createElement("ul",{className:"nav nav-tabs"},e&&r.a.createElement("li",{className:"nav-item all-articles",onClick:I},r.a.createElement("button",{id:"all",className:"nav-link ".concat(e?"active":"")},"Your Articles")),r.a.createElement("li",{className:"nav-item all-articles",onClick:I},r.a.createElement("button",{id:"all",className:"nav-link ".concat("all"===y?"active":"")},"All Articles")),P&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link ".concat("tag"===y?"active":"")},"#".concat(P)))),r.a.createElement(w,{articles:b,toggleFavorite:function(){e||t.push("/login?destination="+window.location.pathname)}}))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{className:"popular-tags"},r.a.createElement("p",null,"Popular Tags"),r.a.createElement("div",{className:"tags"},h&&h.map((function(e){return r.a.createElement("div",{key:e,className:"tag",onClick:function(){return function(e){S("tag"),A(e),p(null),m.searchParams.has("tag")?m.searchParams.set("tag",e):m.searchParams.append("tag",e),o(m.href)}(e)}},e)}))))))))}),C=a(25),T=a(1),P=(a(43),function(){var e=Object(l.g)(),t=Object(l.h)().slug,a=Object(n.useContext)(f),c=a.isLoggedIn,s=a.token,o=a.username,m="".concat(k,"/").concat(t),u=Object(n.useState)(null),d=Object(i.a)(u,2),b=d[0],p=d[1],E=Object(n.useState)(null),h=Object(i.a)(E,2),N=h[0],O=h[1],x=Object(n.useState)(""),w=Object(i.a)(x,2),S=w[0],P=w[1],A=function(){var t=Object(j.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c){t.next=4;break}e.push("/login?destination="+window.location.pathname),t.next=15;break;case 4:if(!b.favorited){t.next=11;break}return t.next=7,fetch("".concat(m,"/favorite"),{headers:{"Content-Type":"application/json;charset=UTF-8",authorization:"Token ".concat(s)},method:"DELETE"});case 7:t.sent.ok&&p(Object(T.a)(Object(T.a)({},b),{},{favorited:!1})),t.next=15;break;case 11:return t.next=13,fetch("".concat(m,"/favorite"),{headers:{"Content-Type":"application/json;charset=UTF-8",authorization:"Token ".concat(s)},method:"POST"});case 13:t.sent.ok&&p(Object(T.a)(Object(T.a)({},b),{},{favorited:!0}));case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),I=function(){var t=Object(j.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(m,{headers:{"Content-Type":"application/json;charset=UTF-8",authorization:"Token ".concat(s)},method:"DELETE"});case 2:t.sent.ok&&e.push("/");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),U=function(){var e=Object(j.a)(g.a.mark((function e(t){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!S){e.next=12;break}return e.next=4,fetch("".concat(m,"/comments"),{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8",authorization:"Token ".concat(s)},body:JSON.stringify({comment:{body:S}})});case 4:if(!(a=e.sent).ok){e.next=11;break}return e.next=8,a.json();case 8:n=e.sent,(r=n.comment)&&O([r].concat(Object(C.a)(N)));case 11:P("");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=function(){var e=Object(j.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(m,{method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}});case 2:if((t=e.sent).ok){e.next=6;break}e.next=11;break;case 6:return e.next=8,t.json();case 8:a=e.sent,n=a.article,p(n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(j.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"/comments"),{method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}});case 2:if((t=e.sent).ok){e.next=6;break}e.next=11;break;case 6:return e.next=8,t.json();case 8:a=e.sent,n=a.comments,O(n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[m]);var F=function(){return r.a.createElement("div",{className:"article-info"},r.a.createElement(v.a,{to:"/user/".concat(b.author.username)},r.a.createElement("img",{src:b.author.image,className:"user-avatar",alt:b.author.username})),r.a.createElement("div",{className:"info"},r.a.createElement(v.a,{to:"/user/".concat(b.author.username),className:"article-author"},b.author.username),r.a.createElement("div",{className:"posted-date"},y()(b.createdAt).format("MMMM D, YYYY"))),o!==b.author.username&&r.a.createElement("button",{className:"btn btn-success",onClick:A},b.favorited?"Unfavorite Article (".concat(b.favoritesCount,")"):"Favorite Article (".concat(b.favoritesCount,")")),c&&o===b.author.username&&r.a.createElement("span",{className:"can-edit-delete"},r.a.createElement("button",{className:"btn btn-secondary"},"Edit Article"),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return I()}},"Delete Article")))};return r.a.createElement("div",{className:"article-page"},r.a.createElement("div",{className:"article-banner"},b&&r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,b.title),F())),b&&r.a.createElement("div",{className:"container article-detail"},r.a.createElement("div",{className:"article-content"},r.a.createElement("p",null,b.body),r.a.createElement("div",{className:"article-content-tags"},b.tagList&&b.tagList.map((function(e){return r.a.createElement("div",{key:e,className:"article-content-tag"},e)}))))),r.a.createElement("hr",{className:"hr-line"}),b&&r.a.createElement("div",{className:"article-actions"},F()),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row comment-section"},r.a.createElement("div",{className:"col-xs-12 col-md-8 offset-md-2"},c?r.a.createElement("div",{className:"comment-form"},r.a.createElement("form",{onSubmit:U},r.a.createElement("div",{className:"content"},r.a.createElement("textarea",{rows:"3",value:S,onChange:function(e){return P(e.target.value)}})),r.a.createElement("div",{className:"footer"},r.a.createElement("button",{className:"btn btn-sm btn-primary float-right"},"Post Comment")))):r.a.createElement("div",{className:"not-logged-in"},r.a.createElement("p",null,r.a.createElement(v.a,{to:"/login"},"Sign In")," or ",r.a.createElement(v.a,{to:"/register"},"Sign up")," to add comments on this article.")),N&&N.map((function(e){return r.a.createElement("div",{key:e.id,className:"comment"},r.a.createElement("div",{className:"comment-content"},r.a.createElement("p",null,e.body)),r.a.createElement("div",{className:"comment-footer"},r.a.createElement("div",{className:"comment-meta"},r.a.createElement(v.a,{to:"/user/".concat(e.author.username)},r.a.createElement("img",{src:e.author.image,alt:e.author.username}),e.author.username),r.a.createElement("span",null,y()(e.author.createdAt).format("MMMM D, YYYY")))))}))))))}),A=a(7),I=(a(44),r.a.memo((function(){var e=Object(n.useContext)(f),t=e.isLoggedIn,a=e.setAuth,c=e.setUser,s=Object(n.useState)(""),o=Object(i.a)(s,2),m=o[0],u=o[1],d=Object(n.useState)(""),b=Object(i.a)(d,2),p=b[0],E=b[1],h=Object(n.useState)({email:"",password:""}),O=Object(i.a)(h,2),k=O[0],x=O[1],y=Object(n.useState)(null),w=Object(i.a)(y,2),S=w[0],C=w[1],P=function(e){var t=e.target,a=t.name,n=t.value;"email"===a&&(n?n&&(N.test(n)?x(Object(T.a)(Object(T.a)({},k),{},Object(A.a)({},a,""))):x(Object(T.a)(Object(T.a)({},k),{},Object(A.a)({},a,"Please enter a valid email address")))):x(Object(T.a)(Object(T.a)({},k),{},Object(A.a)({},a,"Please enter your email"))),u(n)),"password"===a&&(x(n?Object(T.a)(Object(T.a)({},k),{},Object(A.a)({},a,"")):Object(T.a)(Object(T.a)({},k),{},Object(A.a)({},a,"Please enter the password"))),E(n))},I=function(){var e=Object(j.a)(g.a.mark((function e(t){var n,r,s,l,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(null),t.preventDefault(),e.next=4,fetch("https://conduit.productionready.io/api/users/login",{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({user:{email:m,password:p}})});case 4:if((n=e.sent).ok){e.next=13;break}return e.next=8,n.json();case 8:r=e.sent,s=r.errors,C(s),e.next=20;break;case 13:return e.next=15,n.json();case 15:l=e.sent,o=l.user,a(o.token),c(o),localStorage.setItem("user",JSON.stringify(o));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return t?r.a.createElement(l.a,{to:"/dashboard"}):r.a.createElement("div",{className:"container fluid login-form"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},r.a.createElement("h1",{className:"text-center"},"Sign in"),r.a.createElement("div",{className:"text-center"},r.a.createElement(v.a,{to:"/register"},"Need Account?")),r.a.createElement("form",{onSubmit:I},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email address"),r.a.createElement("input",{type:"email",className:"form-control",id:"email",name:"email",value:m,onChange:P}),k.email&&r.a.createElement("div",{className:"error"},k.email)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password",className:"form-control",value:p,onChange:P}),k.password&&r.a.createElement("div",{className:"error"},k.password)),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:!(m&&p&&N.test(m))},"Sign In"),S&&Object.keys(S).map((function(e){return r.a.createElement("div",{className:"error",key:e},"".concat(e," ").concat(S[e]))}))))))}))),U=(a(45),r.a.memo((function(){var e=Object(n.useContext)(f).setAuth,t=Object(n.useState)({username:"",email:"",password:""}),a=Object(i.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)({username:"",email:"",password:""}),o=Object(i.a)(l,2),m=o[0],u=o[1],d=Object(n.useState)(null),b=Object(i.a)(d,2),p=b[0],E=b[1],h=function(e){var t=e.target,a=t.name,n=t.value;"email"===a&&(n?n&&(N.test(n)?u(Object(T.a)(Object(T.a)({},m),{},Object(A.a)({},a,""))):u(Object(T.a)(Object(T.a)({},m),{},Object(A.a)({},a,"Please enter a valid email address")))):u(Object(T.a)(Object(T.a)({},m),{},Object(A.a)({},a,"Please enter your email")))),"username"===a&&u(n?Object(T.a)(Object(T.a)({},m),{},Object(A.a)({},a,"")):Object(T.a)(Object(T.a)({},m),{},Object(A.a)({},a,"Please enter your username"))),"password"===a&&u(n?Object(T.a)(Object(T.a)({},m),{},Object(A.a)({},a,"")):Object(T.a)(Object(T.a)({},m),{},Object(A.a)({},a,"Please enter the password"))),s(Object(T.a)(Object(T.a)({},c),{},Object(A.a)({},a,n)))},O=function(){var t=Object(j.a)(g.a.mark((function t(a){var n,r,s,l,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return E(null),a.preventDefault(),t.next=4,fetch("https://conduit.productionready.io/api/users",{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({user:Object(T.a)({},c)})});case 4:if((n=t.sent).ok){t.next=14;break}return t.next=8,n.json();case 8:r=t.sent,s=r.errors,console.log(s),E(s),t.next=19;break;case 14:return t.next=16,n.json();case 16:l=t.sent,o=l.user.token,e(o);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"container fluid register-form"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},r.a.createElement("h1",{className:"text-center"},"Register"),r.a.createElement("div",{className:"text-center"},r.a.createElement(v.a,{to:"/login"},"Already have an account?")),r.a.createElement("form",{onSubmit:O},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"User Name"),r.a.createElement("input",{type:"text",className:"form-control",name:"username",value:c.username,onChange:h}),m.username&&r.a.createElement("div",{className:"error"},m.username)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email address"),r.a.createElement("input",{type:"email",className:"form-control",name:"email",value:c.email,onChange:h}),m.email&&r.a.createElement("div",{className:"error"},m.email)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",value:c.password,onChange:h}),m.password&&r.a.createElement("div",{className:"error"},m.password)),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:function(){var e=c.username,t=c.email,a=c.password;if(!e||!t||!a)return!0}()},"Register"),p&&Object.keys(p).map((function(e){return r.a.createElement("div",{className:"error",key:e},"".concat(e," ").concat(p[e]))}))))))}))),F=function(e){var t=e.articles,a=e.toggleFavorite;return r.a.createElement("div",{className:"articles-list"},t&&t.map((function(e){return r.a.createElement("div",{key:e.slug,className:"article text-left"},r.a.createElement("div",{className:"article-info"},r.a.createElement(v.a,{to:"/user/".concat(e.author.username)},r.a.createElement("img",{src:e.author.image,className:"user-avatar",alt:e.author.username})),r.a.createElement("div",{className:"info"},r.a.createElement(v.a,{to:"/user/".concat(e.author.username),className:"article-author"},e.author.username),r.a.createElement("div",{className:"posted-date"},y()(e.createdAt).format("MMMM D, YYYY"))),r.a.createElement("button",{className:"btn btn-success float-right",onClick:a},"".concat(e.favorited?"Unfavorite":"Favorite"," (").concat(e.favoritesCount,")"))),r.a.createElement(v.a,{to:"/article/".concat(e.slug)},r.a.createElement("h2",null,e.title),r.a.createElement("p",null,e.body),r.a.createElement("div",null,"Read more....")))})))},L=(a(46),function(){var e=Object(l.h)().username,t=Object(l.g)(),a=Object(n.useContext)(f).isLoggedIn,c=Object(n.useState)("".concat(O,"&author=").concat(e)),s=Object(i.a)(c,2),o=s[0],m=s[1],u=new URL(o),d=Object(n.useState)(null),b=Object(i.a)(d,2),p=b[0],v=b[1],E=Object(n.useState)(null),h=Object(i.a)(E,2),N=h[0],k=h[1],x=Object(n.useState)("my-articles"),y=Object(i.a)(x,2),w=y[0],S=y[1],C=function(t){S(t),"my-articles"===t?(u.searchParams.delete("favorited"),u.searchParams.set("author",e)):"fav-articles"===t&&(u.searchParams.delete("author"),u.searchParams.set("favorited",e)),m(u.href)};return Object(n.useEffect)((function(){(function(){var t=Object(j.a)(g.a.mark((function t(){var a,n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(null),t.next=3,fetch("".concat("https://conduit.productionready.io/api/profiles/","/").concat(e));case 3:if(!(a=t.sent).ok){t.next=10;break}return t.next=7,a.json();case 7:n=t.sent,r=n.profile,v(r);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(n.useEffect)((function(){(function(){var e=Object(j.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(null),e.next=3,fetch(o);case 3:if(!(t=e.sent).ok){e.next=10;break}return e.next=7,t.json();case 7:a=e.sent,n=a.articles,k(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o]),r.a.createElement("div",{className:"user-profile"},p&&r.a.createElement("div",{className:"user-info"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 col-md-10 offset-md-1"},r.a.createElement("img",{src:p.image,alt:p.image}),r.a.createElement("h3",{className:"text-center mt-3"},e))))),r.a.createElement("div",{className:"user-articles"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 col-md-10 offset-md-1"},r.a.createElement("div",{className:"article-tabs"},r.a.createElement("ul",{className:"nav nav-tabs"},r.a.createElement("li",{className:"nav-item all-articles",onClick:function(){return C("my-articles")}},r.a.createElement("button",{id:"all",className:"nav-link ".concat("my-articles"===w?"active":"")},"My Articles")),r.a.createElement("li",{className:"nav-item fav-articles",onClick:function(){return C("fav-articles")}},r.a.createElement("button",{id:"all",className:"nav-link ".concat("fav-articles"===w?"active":"")},"Favorite Articles"))),r.a.createElement(F,{articles:N,toggleFavorite:function(){a||t.push("/login?destination="+window.location.pathname)}})))))))}),M=(a(47),function(){var e=Object(n.useContext)(f),t=e.user,a=e.token,c=e.setAuth,s=e.setUser,l=Object(n.useState)({image:t.image,username:t.username,bio:t.bio,email:t.email,password:""}),o=Object(i.a)(l,2),m=o[0],u=o[1],d=Object(n.useState)(null),b=Object(i.a)(d,2),p=b[0],v=b[1],E=function(e){var t=e.target,a=t.name,n=t.value;u(Object(T.a)(Object(T.a)({},m),{},Object(A.a)({},a,n)))},h=function(){var e=Object(j.a)(g.a.mark((function e(t){var n,r,l,o,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://conduit.productionready.io/api/user",{method:"PUT",headers:{"Content-Type":"application/json;charset=UTF-8",authorization:"Token ".concat(a)},body:JSON.stringify(Object(T.a)({},m))});case 3:if((n=e.sent).ok){e.next=12;break}return e.next=7,n.json();case 7:r=e.sent,l=r.errors,v(l),e.next=19;break;case 12:return e.next=14,n.json();case 14:o=e.sent,i=o.user,c(i.token),s(i),localStorage.setItem("user",JSON.stringify(i));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container fluid user-settings"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},r.a.createElement("h1",{className:"text-center"},"User Settings"),r.a.createElement("form",{onSubmit:h},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"profilePic",placeholder:"URL of profile picture",value:m.image,onChange:E})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"username",placeholder:"Username",value:m.username,onChange:E})),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{className:"form-control",name:"username",placeholder:"Short bio about you",rows:"10",value:m.bio,onChange:E})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",className:"form-control",name:"email",placeholder:"Email",value:m.email,onChange:E})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",name:"password",placeholder:"New Password",value:m.password,onChange:E})),r.a.createElement("button",{type:"submit",className:"btn btn-primary float-right"},"Update Settings"),p&&Object.keys(p).map((function(e){return r.a.createElement("div",{className:"error",key:e},"".concat(e," ").concat(p[e]))}))))))}),Y=(a(48),function(){var e=Object(l.g)(),t=Object(n.useState)({title:"",description:"",body:"",tagsList:""}),a=Object(i.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(!1),m=Object(i.a)(o,2),u=m[0],d=m[1],f=Object(n.useState)(null),b=Object(i.a)(f,2),p=b[0],v=b[1],E=function(e){var t=e.target,a=t.name,n=t.value;s(Object(T.a)(Object(T.a)({},c),{},Object(A.a)({},a,n)))},h=function(){var t=Object(j.a)(g.a.mark((function t(a){var n,r,s,l,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),v(null),d(!0),t.next=5,fetch(k,{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8",authorization:"Token ".concat(localStorage.getItem("token"))},body:JSON.stringify(Object(T.a)({},c))});case 5:if((n=t.sent).ok){t.next=14;break}return t.next=9,n.json();case 9:r=t.sent,s=r.errors,v(s),t.next=19;break;case 14:return t.next=16,n.json();case 16:l=t.sent,(o=l.article).slug&&e.push("/article/".concat(o.slug));case 19:d(!1);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"container new-article"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-10 offset-md-1 col-xs-12"},r.a.createElement("ul",null,p&&Object.keys(p).map((function(e){return r.a.createElement("li",{className:"error",key:e},p[e].map((function(t){return r.a.createElement("div",{className:"error"},"".concat(e," ").concat(t))})))}))),r.a.createElement("form",{onSubmit:h},r.a.createElement("fieldset",{disabled:u},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"title",placeholder:"Article Title",value:c.title,onChange:E})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"description",placeholder:"What's this article about?",value:c.description,onChange:E})),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{className:"form-control",name:"body",placeholder:"Write your article (in markdown)",rows:"10",value:c.body,onChange:E})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"tagsList",placeholder:"Enter tags",value:c.tagsList,onChange:E}))),r.a.createElement("button",{type:"submit",className:"btn btn-lg btn-primary float-right",disabled:u},"Publish Article")))))}),D=function(){return r.a.createElement("div",null,"Dashboard")};a(49);var J=function(){return r.a.createElement(b,null,r.a.createElement(f.Consumer,null,(function(e){return r.a.createElement("div",{className:"App"},r.a.createElement(E,null),r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/"},r.a.createElement(S,null)),r.a.createElement(l.b,{exact:!0,path:"/article/:slug"},r.a.createElement(P,null)),r.a.createElement(l.b,{exact:!0,path:"/login"},r.a.createElement(I,null)),r.a.createElement(l.b,{exact:!0,path:"/register"},r.a.createElement(U,null)),r.a.createElement(l.b,{exact:!0,path:"/user/:username"},r.a.createElement(L,null)),r.a.createElement(l.b,{exact:!0,path:"/settings"},r.a.createElement(M,null)),r.a.createElement(p,{isLoggedIn:e.isLoggedIn,component:Y}),r.a.createElement(p,{isLoggedIn:e.isLoggedIn,component:D})))})))},z=Object(o.a)();s.a.render(r.a.createElement(l.c,{history:z},r.a.createElement(J,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.0216780f.chunk.js.map